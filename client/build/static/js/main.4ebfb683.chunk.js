(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{33:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var r=n(4),s=n(1),i=n.n(s),a=n(12),c=n.n(a),o=(n(33),n(9)),u=n(8),d=n(25),h=n(21),j=n.n(h),l=n(23),f="ADD_MESSAGE",g="MESSAGE_RECEIVED",b="USERS_LIST",x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:case g:return[].concat(Object(l.a)(e),[{message:t.message,author:t.author,id:t.id}]);default:return e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return t.users;default:return e}},p=Object(u.c)({messages:x,users:O}),v=n(22),m=(new(n.n(v).a)).first(),S=n(18),w=n.n(S),y=n(26),E=w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)(f,(function(e){e.author=t.username,t.socket.send(JSON.stringify(e))}));case 2:case"end":return e.stop()}}),e)})),k=0,z=function(e,t){var n=location.origin.replace(/^http/,"ws"),r=new WebSocket(n);return r.onopen=function(){r.send(JSON.stringify({type:"ADD_USER",name:t}))},r.onmessage=function(t){var n,r,s,i=JSON.parse(String(t.data));switch(i.type){case f:e((r=i.message,s=i.author,{type:g,id:k++,message:r,author:s}));break;case b:e((n=i.users,{type:b,users:n}))}},r},D=n(6),A=n(24),J="#21374D",C="#E7E7EF",F="#A2AAB3",I=D.a.div({padding:20,height:200}),R=D.a.textarea({width:"100%",height:"100%",outline:"none",padding:8,resize:"none",backgroundColor:C,border:"none",borderRadius:8}),B=Object(o.b)((function(){return{}}),(function(e){return{dispatch:function(t,n){e(function(e,t){return{type:f,id:k++,message:e,author:t}}(t,n))}}}))((function(e){var t=i.a.useState(""),n=Object(A.a)(t,2),s=n[0],a=n[1];return Object(r.jsx)(I,{children:Object(r.jsx)(R,{placeholder:"Aa",value:s,onChange:function(e){return a(e.target.value)},onKeyPress:function(t){"Enter"===t.key&&(t.preventDefault(),e.dispatch(s,"Me"),a(""))}})})})),_=D.a.div((function(e){return{flexShrink:0,height:e.size,width:e.size}})),L=D.a.div({borderBottom:"1px solid ".concat(F),padding:20,height:"100%",overflow:"auto"}),M=D.a.div({display:"flex",alignItems:"flex-start"}),N=D.a.div({color:J,fontSize:16,fontWeight:600}),P=D.a.div({color:J,fontSize:16}),T=Object(o.b)((function(e){return{messages:e.messages}}),{})((function(e){var t=e.messages;return Object(r.jsx)(L,{children:t.map((function(e,t){return Object(r.jsxs)(i.a.Fragment,{children:[0!==t&&Object(r.jsx)(_,{size:8}),Object(r.jsxs)(M,{children:[Object(r.jsxs)(N,{children:[e.author,":"]}),Object(r.jsx)(_,{size:8}),Object(r.jsx)(P,{children:e.message})]})]},e.id)}))})})),U=D.a.div({padding:24,height:"100%",width:400,borderRight:"1px solid ".concat(F),flexShrink:0}),W=D.a.div({maxHeight:"100%",overflow:"auto"}),G=D.a.div({color:J,fontSize:32,fontWeight:600}),H=D.a.div({color:J,fontSize:24}),K=Object(o.b)((function(e){return{users:e.users}}),{})((function(e){var t=e.users;return Object(r.jsxs)(U,{children:[Object(r.jsx)(G,{children:"Users"}),Object(r.jsx)(_,{size:32}),Object(r.jsx)(W,{children:t.map((function(e,t){return Object(r.jsxs)(i.a.Fragment,{children:[0!==t&&Object(r.jsx)(_,{size:12}),Object(r.jsx)(H,{children:e.name})]},"".concat(e.name,"-").concat(t))}))})]})})),V=D.a.div({height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}),q=D.a.div({display:"flex",flexDirection:"column",width:"100%",height:"100%"});var Q=function(){return Object(r.jsxs)(V,{children:[Object(r.jsx)(K,{}),Object(r.jsxs)(q,{children:[Object(r.jsx)(T,{}),Object(r.jsx)(B,{})]})]})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),s(e),i(e),a(e)}))};j.a.load({google:{families:["Jost:400","Jost:500","Jost:600","sans-serif"]}});var Y=Object(d.a)(),Z=Object(u.e)(p,Object(u.a)(Y)),$=z(Z.dispatch,m);Y.run(E,{socket:$,username:m}),c.a.render(Object(r.jsx)(o.a,{store:Z,children:Object(r.jsx)(Q,{})}),document.getElementById("root")),X()}},[[45,1,2]]]);
//# sourceMappingURL=main.4ebfb683.chunk.js.map