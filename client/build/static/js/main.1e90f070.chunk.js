(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{33:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var i=n(4),r=n(1),s=n.n(r),c=n(12),a=n.n(c),o=(n(33),n(9)),u=n(8),d=n(25),h=n(21),j=n.n(h),l=n(23),f="ADD_MESSAGE",g="MESSAGE_RECEIVED",b="USERS_LIST",O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:case g:return[].concat(Object(l.a)(e),[{message:t.message,author:t.author,id:t.id}]);default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return t.users;default:return e}},v=Object(u.c)({messages:O,users:p}),x=n(22),S=(new(n.n(x).a)).first(),m=n(18),E=n.n(m),w=n(26),y=E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)(f,(function(e){e.author=t.username,t.socket.send(JSON.stringify(e))}));case 2:case"end":return e.stop()}}),e)})),_=0,D=function(e,t){var n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}),i=n.NODE_ENV,r=void 0===i?"production":i,s=n.WEBSOCKET_DEV_PORT,c=void 0===s?8989:s,a=location.origin.replace(/^http/,"ws"),o=new WebSocket("production"===r?a:"ws://localhost:".concat(c));return o.onopen=function(){o.send(JSON.stringify({type:"ADD_USER",name:t}))},o.onmessage=function(t){var n,i,r,s=JSON.parse(String(t.data));switch(s.type){case f:e((i=s.message,r=s.author,{type:g,id:_++,message:i,author:r}));break;case b:e((n=s.users,{type:b,users:n}))}},o},C=n(6),T=n(24),k="#21374D",z="#E7E7EF",A="#A2AAB3",R=C.a.div({padding:20,height:200}),F=C.a.textarea({width:"100%",height:"100%",outline:"none",padding:8,resize:"none",backgroundColor:z,border:"none",borderRadius:8}),J=Object(o.b)((function(){return{}}),(function(e){return{dispatch:function(t,n){e(function(e,t){return{type:f,id:_++,message:e,author:t}}(t,n))}}}))((function(e){var t=s.a.useState(""),n=Object(T.a)(t,2),r=n[0],c=n[1];return Object(i.jsx)(R,{children:Object(i.jsx)(F,{placeholder:"Aa",value:r,onChange:function(e){return c(e.target.value)},onKeyPress:function(t){"Enter"===t.key&&(t.preventDefault(),e.dispatch(r,"Me"),c(""))}})})})),I=C.a.div((function(e){return{flexShrink:0,height:e.size,width:e.size}})),N=C.a.div({borderBottom:"1px solid ".concat(A),padding:20,height:"100%",overflow:"auto"}),P=C.a.div({display:"flex",alignItems:"flex-start"}),W=C.a.div({color:k,fontSize:16,fontWeight:600}),B=C.a.div({color:k,fontSize:16}),K=Object(o.b)((function(e){return{messages:e.messages}}),{})((function(e){var t=e.messages;return Object(i.jsx)(N,{children:t.map((function(e,t){return Object(i.jsxs)(s.a.Fragment,{children:[0!==t&&Object(i.jsx)(I,{size:8}),Object(i.jsxs)(P,{children:[Object(i.jsxs)(W,{children:[e.author,":"]}),Object(i.jsx)(I,{size:8}),Object(i.jsx)(B,{children:e.message})]})]},e.id)}))})})),L=C.a.div({padding:24,height:"100%",width:400,borderRight:"1px solid ".concat(A),flexShrink:0}),U=C.a.div({maxHeight:"100%",overflow:"auto"}),H=C.a.div({color:k,fontSize:32,fontWeight:600}),V=C.a.div({color:k,fontSize:24}),M=Object(o.b)((function(e){return{users:e.users}}),{})((function(e){var t=e.users;return Object(i.jsxs)(L,{children:[Object(i.jsx)(H,{children:"Users"}),Object(i.jsx)(I,{size:32}),Object(i.jsx)(U,{children:t.map((function(e,t){return Object(i.jsxs)(s.a.Fragment,{children:[0!==t&&Object(i.jsx)(I,{size:12}),Object(i.jsx)(V,{children:e.name})]},"".concat(e.name,"-").concat(t))}))})]})})),G=C.a.div({height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}),q=C.a.div({display:"flex",flexDirection:"column",width:"100%",height:"100%"});var Q=function(){return Object(i.jsxs)(G,{children:[Object(i.jsx)(M,{}),Object(i.jsxs)(q,{children:[Object(i.jsx)(K,{}),Object(i.jsx)(J,{})]})]})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),i(e),r(e),s(e),c(e)}))};j.a.load({google:{families:["Jost:400","Jost:500","Jost:600","sans-serif"]}});var Y=Object(d.a)(),Z=Object(u.e)(v,Object(u.a)(Y)),$=D(Z.dispatch,S);Y.run(y,{socket:$,username:S}),a.a.render(Object(i.jsx)(o.a,{store:Z,children:Object(i.jsx)(Q,{})}),document.getElementById("root")),X()}},[[45,1,2]]]);
//# sourceMappingURL=main.1e90f070.chunk.js.map