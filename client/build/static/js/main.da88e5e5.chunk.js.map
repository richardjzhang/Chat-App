{"version":3,"sources":["reducers/constants.js","reducers/messages.js","reducers/users.js","reducers/index.js","reducers/actions.js","utils/sockets.js","styles.js","components/AddMessage.js","helpers/Portal.js","primitives/Overlay.js","components/Modal/Modal.js","components/Modal/ModalContent.js","primitives/Separator.js","components/Modal/ModalFooter.js","components/Modal/index.js","primitives/Button.js","utils/sagas.js","components/ChooseName.js","components/MessagesList.js","components/Sidebar.js","App.js","reportWebVitals.js","index.js"],"names":["ADD_MESSAGE","MESSAGE_RECEIVED","USERS_LIST","messages","state","action","type","types","message","author","id","users","chat","combineReducers","nextMessageId","setupSocket","dispatch","username","process","NODE_ENV","WEBSOCKET_DEV_PORT","HOST","location","origin","replace","socket","WebSocket","onopen","send","JSON","stringify","name","onmessage","event","data","parse","String","sagaMiddleware","createSagaMiddleware","store","createStore","reducers","applyMiddleware","colors","Root","styled","div","padding","height","Input","textarea","width","outline","resize","backgroundColor","border","borderRadius","AddMessageContainer","connect","addMessage","props","React","useState","setMessage","placeholder","value","onChange","e","target","onKeyPress","key","preventDefault","portalWithScrollPreventionClass","removeAllClasses","node","Array","from","classList","forEach","c","remove","setClassList","classValues","add","InnerPortal","portalNode","document","body","this","rootScrollingElement","getElementById","isOpen","addPortalNode","prevProps","removePortalNode","updatePortalNode","createElement","appendChild","setState","preventScrollClass","portalClass","removeChild","onClose","querySelectorAll","length","children","ReactDOM","createPortal","Component","styles","position","zIndex","overflow","Portal","hasScrollPrevention","css","exitAnimationDuration","overlay","top","right","bottom","left","animationName","keyframes","animationDuration","animationFillMode","animationTimingFunction","overlayExit","Overlay","animateClose","onClick","root","createRef","ref","Boolean","current","isScrollingDown","startY","curY","isScrollingUp","boxEnterKeyframes","boxExitKeyframes","box","animation","willChange","boxShadow","margin","WebkitTapHighlightColor","boxExit","scrollingContainer","overflowY","boxSizing","WebkitOverflowScrolling","display","alignItems","Modal","handleCloseButtonClick","handleOverlayClick","closeOnOverlayTap","handleKeyDown","stopPropagation","keyCode","handleTouchStart","touches","clientY","handleTouchMove","scrollHeight","clientHeight","scrollTop","scrollToTop","scrollableElement","scrollTo","behavior","focus","onTouchStart","onTouchMove","tabIndex","onKeyDown","maxWidth","defaultProps","flexDirection","ModalContent","isCentered","textAlign","Separator","flexShrink","size","grow","flexGrow","ModalFooter","Fragment","justifyContent","minWidth","ModalPortal","modal","openModal","closeModal","window","setTimeout","onExitAnimationEnd","ButtonStyle","button","color","fontSize","fontWeight","cursor","userSelect","WebkitTouchCallout","textDecoration","webkitAppearance","mozAppearance","Button","handleNewMessage","params","takeEvery","Title","Subtitle","input","ChooseName","setIsOpen","setUsername","run","borderBottom","MessageContainer","User","Message","MessagesListContainer","map","idx","isAuthor","borderRight","UsersList","maxHeight","SidebarContainer","user","Messages","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","WebFont","load","google","families","render"],"mappings":"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","file":"static/js/main.da88e5e5.chunk.js","sourcesContent":["// @flow\nconst ADD_MESSAGE = 'ADD_MESSAGE';\nconst MESSAGE_RECEIVED = 'MESSAGE_RECEIVED';\nconst ADD_USER = 'ADD_USER';\nconst USERS_LIST = 'USERS_LIST';\n\nexport { ADD_MESSAGE, MESSAGE_RECEIVED, ADD_USER, USERS_LIST };\n","// @flow\nimport * as types from './constants';\nimport type { MessageAction, MessageData } from './types';\n\nconst messages = (state: Array<MessageData> = [], action: MessageAction) => {\n  switch (action.type) {\n    case types.ADD_MESSAGE:\n    case types.MESSAGE_RECEIVED:\n      return [\n        ...state,\n        { message: action.message, author: action.author, id: action.id },\n      ];\n    default:\n      return state;\n  }\n};\n\nexport default messages;\n","// @flow\nimport * as types from './constants';\nimport type { UserAction, UserData } from './types';\n\nconst users = (state: Array<UserData> = [], action: UserAction) => {\n  switch (action.type) {\n    case types.USERS_LIST:\n      return action.users;\n    default:\n      return state;\n  }\n};\n\nexport default users;\n","// @flow\nimport { combineReducers } from 'redux';\n\nimport messages from './messages';\nimport users from './users';\n\nconst chat = combineReducers({\n  messages,\n  users,\n});\n\nexport default chat;\n","// @flow\nimport * as types from './constants';\nimport type {\n  MessageAction,\n  Message,\n  MessageAuthor,\n  UserAction,\n  Users,\n} from './types';\n\nlet nextMessageId = 0;\n\nexport const addMessage = (\n  message: Message,\n  author: MessageAuthor,\n): MessageAction => ({\n  type: types.ADD_MESSAGE,\n  id: nextMessageId++,\n  message,\n  author,\n});\n\nexport const messageReceived = (\n  message: Message,\n  author: MessageAuthor,\n): MessageAction => ({\n  type: types.MESSAGE_RECEIVED,\n  id: nextMessageId++,\n  message,\n  author,\n});\n\nexport const populateUsersList = (users: Users): UserAction => ({\n  type: types.USERS_LIST,\n  users,\n});\n","// @flow\nimport { createStore, applyMiddleware } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\n\nimport reducers from 'src/reducers';\nimport { messageReceived, populateUsersList } from 'src/reducers/actions';\nimport * as types from 'src/reducers/constants';\nimport type { MessageAction, UserAction, UserName } from 'src/reducers/types';\n\nconst setupSocket = (\n  dispatch: (MessageAction | UserAction) => void,\n  username: UserName,\n) => {\n  const { NODE_ENV = 'production', WEBSOCKET_DEV_PORT = 8989 } = process.env;\n  const HOST = location.origin.replace(/^http/, 'ws');\n\n  // If in development mode, hook up to local websocket running on separate server.\n  // Otherwise, use current port\n  const socket = new WebSocket(\n    NODE_ENV === 'production' ? HOST : `ws://localhost:${WEBSOCKET_DEV_PORT}`,\n  );\n\n  socket.onopen = () => {\n    socket.send(\n      JSON.stringify({\n        type: types.ADD_USER,\n        name: username,\n      }),\n    );\n  };\n  socket.onmessage = (event: MessageEvent) => {\n    const data = JSON.parse(String(event.data));\n    switch (data.type) {\n      case types.ADD_MESSAGE:\n        dispatch(messageReceived(data.message, data.author));\n        break;\n      case types.USERS_LIST:\n        dispatch(populateUsersList(data.users));\n        break;\n      default:\n        break;\n    }\n  };\n\n  return socket;\n};\n\nconst sagaMiddleware = createSagaMiddleware();\nconst store = createStore(reducers, applyMiddleware(sagaMiddleware));\n\nexport { sagaMiddleware, setupSocket, store };\n","// @flow\nexport const colors = {\n  // Primary Colors\n  dodgerBlue: '#3B80FE',\n  cloudBurst: '#21374D',\n  honorNight: '#0C2426',\n\n  // Palette\n  sail: '#B7D8F9',\n  iceCold: '#B7F9D8',\n  dairyCream: '#F9D8B7',\n  cupid: '#F9B7D8',\n\n  // Greys\n  athensGray: '#E7E7EF',\n  grayChateau: '#A2AAB3',\n\n  // Other\n  white: '#FFF',\n  black: '#000000',\n};\n\n// It doesn't fix all the possible issues on all browsers or devices, feel free to add rules\nexport const tappable = {\n  cursor: 'pointer',\n  userSelect: 'none', // to prevent the text selection (e.g. selecting text triggers the copy-paste popup menu on iOS and Android)\n  WebkitTapHighlightColor: 'rgba(0, 0, 0, 0)', // to prevent the default tap highlight colour being applied\n  WebkitTouchCallout: 'none', // to prevent the context menu from showing, at least on iOS for anchor elements\n};\n","// @flow\nimport styled from '@emotion/styled';\nimport React from 'react';\nimport { connect } from 'react-redux';\n\nimport { addMessage } from 'src/reducers/actions';\nimport type { MessageAction, Message, MessageAuthor } from 'src/reducers/types';\nimport { colors } from 'src/styles';\n\nconst Root = styled.div<{}>({\n  padding: 20,\n  height: 200,\n});\n\nconst Input = styled.textarea<{}>({\n  width: '100%',\n  height: '100%',\n  outline: 'none',\n  padding: 8,\n  resize: 'none',\n  backgroundColor: colors.athensGray,\n  border: 'none',\n  borderRadius: 8,\n});\n\ntype Props = {|\n  dispatch: (message: Message, author: MessageAuthor) => void,\n|};\n\nconst AddMessage = (props: Props) => {\n  const [message, setMessage] = React.useState('');\n  return (\n    <Root>\n      <Input\n        placeholder=\"Aa\"\n        value={message}\n        onChange={(e) => setMessage(e.target.value)}\n        onKeyPress={(e) => {\n          if (e.key === 'Enter') {\n            e.preventDefault();\n            props.dispatch(message, 'Me');\n            setMessage('');\n          }\n        }}\n      />\n    </Root>\n  );\n};\n\nconst mapDispatchToProps = (dispatch: (MessageAction) => void) => ({\n  dispatch: (message: Message, author: MessageAuthor) => {\n    dispatch(addMessage(message, author));\n  },\n});\n\nconst AddMessageContainer = connect(() => ({}), mapDispatchToProps)(AddMessage);\n\nexport default AddMessageContainer;\n","// @flow\n/** @jsxImportSource @emotion/react */\nimport { ClassNames } from '@emotion/react';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\ntype ClassName = string;\n\n// Some of the components that use Portal require scroll prevention\n// when open (Modal, Flyout, MainMenu). It is also possible for a few of them\n// to be open at the same time (e.g. Modal inside Flyout or nested Modals).\n// Therefore we should be careful not to remove scroll prevention until\n// all of the components that require scroll prevent unmount - we keep track\n// of these by adding `portalWithScrollPreventionClass` to their corresponding\n// nodes and checking if any of them is present in the DOM.\n// TODO: a better solution is needed for handling the scroll prevention logic,\n// possibly the one that:\n// * isolates the scroll prevention logic from InnerPortal\n// * is represented by a single boolean in the app state\n// * avoids using DOM for checks\nconst portalWithScrollPreventionClass = 'portal-with-scroll-prevention-f2e1bc';\n\nconst removeAllClasses = (node: HTMLElement) => {\n  // IE11 doesn't support the variadic version of .remove() so we have to\n  // manually call it once for each class in the list.\n  Array.from(node.classList).forEach((c) => {\n    node.classList.remove(c);\n  });\n};\n\n// Sets the classes on node to be exactly equal to the provided class values.\n// This makes it easy for us to have our class list be a pure function of the\n// passed classes, which is important for interacting nicely with React.\nconst setClassList = (node: HTMLElement, ...classValues: Array<ClassName>) => {\n  removeAllClasses(node);\n  // IE11 doesn't support the variadic version of .add() so we have to\n  // manually call it once for each class in the list.\n  classValues.forEach((c) => {\n    node.classList.add(c);\n  });\n};\n\ntype Props = {\n  isOpen: boolean,\n  onClose?: () => void,\n  children?: React$Node,\n  portalClass: ClassName,\n  preventScrollClass: ?ClassName,\n};\n\ntype State = {\n  portalNode: ?HTMLDivElement,\n};\n\nclass InnerPortal extends React.Component<Props, State> {\n  rootScrollingElement: ?HTMLElement;\n\n  state = {\n    portalNode: null,\n  };\n\n  componentDidMount() {\n    if (document.body == null) return; // flow refinement\n    this.rootScrollingElement = document.getElementById('root');\n\n    if (this.props.isOpen) {\n      this.addPortalNode();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.isOpen && this.props.isOpen) this.addPortalNode();\n    else if (prevProps.isOpen && !this.props.isOpen) this.removePortalNode();\n    else this.updatePortalNode();\n  }\n\n  componentWillUnmount() {\n    // TODO check whether we will try to remove the DOM node before React has\n    // been able to clean up its shit due to the render diff. It sounds like\n    // we may need to cleanup on a subsequent tick.\n    if (this.props.isOpen && this.state.portalNode != null) {\n      this.removePortalNode();\n    }\n  }\n\n  addPortalNode() {\n    const portalNode = document.createElement('div');\n    if (document.body != null) document.body.appendChild(portalNode);\n    this.setState({ portalNode });\n    this.updatePortalNode();\n  }\n\n  updatePortalNode() {\n    if (this.state.portalNode == null) return;\n    setClassList(\n      this.state.portalNode,\n      ...(this.props.preventScrollClass != null\n        ? [portalWithScrollPreventionClass]\n        : []),\n      this.props.portalClass,\n    );\n    if (this.props.preventScrollClass != null) {\n      this.rootScrollingElement?.classList.add(this.props.preventScrollClass);\n    }\n  }\n\n  removePortalNode() {\n    if (document.body != null && this.state.portalNode != null)\n      document.body.removeChild(this.state.portalNode);\n    this.setState({ portalNode: null }, () => {\n      if (this.props.onClose != null) this.props.onClose();\n    });\n    if (\n      this.props.preventScrollClass != null &&\n      document.querySelectorAll(`.${portalWithScrollPreventionClass}`)\n        .length === 0\n    ) {\n      this.rootScrollingElement?.classList.remove(\n        this.props.preventScrollClass,\n      );\n    }\n  }\n\n  render() {\n    return this.props.isOpen &&\n      this.state.portalNode &&\n      this.props.children != null\n      ? ReactDOM.createPortal(this.props.children, this.state.portalNode)\n      : null;\n  }\n}\n\nconst styles = {\n  portal: {\n    position: 'absolute',\n    zIndex: 2147483647, // Necessary to beat Intercom widget.\n  },\n  preventScroll: {\n    overflow: 'hidden',\n  },\n};\n\nexport default function Portal({\n  hasScrollPrevention = false,\n  isOpen,\n  children,\n}: {\n  hasScrollPrevention?: boolean,\n  isOpen: boolean,\n  children: React$Node,\n}) {\n  return (\n    <ClassNames>\n      {({ css }) => (\n        <InnerPortal\n          isOpen={isOpen}\n          portalClass={css(styles.portal)}\n          preventScrollClass={\n            hasScrollPrevention ? css(styles.preventScroll) : null\n          }\n        >\n          {children}\n        </InnerPortal>\n      )}\n    </ClassNames>\n  );\n}\n","// @flow\n/** @jsxImportSource @emotion/react */\nimport { keyframes } from '@emotion/react';\nimport React, { createRef } from 'react';\n\nimport { type ReactRefType } from 'src/utils/flow';\n\ntype Props = {\n  animateClose?: boolean,\n  children?: React$Node,\n  onClick?: () => void,\n};\n\nexport const exitAnimationDuration = 300; // milliseconds\n\nconst overlayEnterKeyframes = keyframes`\n  0% {\n    opacity: 0;\n  }\n\n  100% {\n    opacity: 1;\n  }\n`;\n\nconst overlayExitKeyframes = keyframes`\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n`;\n\nconst styles = {\n  overlay: {\n    height: '100vh',\n    position: 'fixed',\n    zIndex: 1,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    animationName: overlayEnterKeyframes,\n    animationDuration: '300ms',\n    animationFillMode: 'forwards',\n    animationTimingFunction: 'ease-out',\n    backgroundColor: 'rgba(0, 0, 0, 0.4)',\n  },\n  overlayExit: {\n    animationName: overlayExitKeyframes,\n    animationDuration: `${exitAnimationDuration}ms`,\n    animationFillMode: 'forwards',\n    animationTimingFunction: 'ease-out',\n  },\n};\n\nconst Overlay = ({ animateClose, children, onClick }: Props) => {\n  // ref to node\n  const root: ReactRefType<HTMLDivElement> = createRef();\n  return (\n    <div\n      ref={root}\n      css={[styles.overlay, Boolean(animateClose) && styles.overlayExit]}\n      onClick={(event) => {\n        if (event.target === root.current && onClick) onClick();\n      }}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default Overlay;\n","// @flow\n/** @jsxImportSource @emotion/react */\nimport { keyframes } from '@emotion/react';\nimport React, { createRef, Component } from 'react';\n\nimport type { DefaultProps, Props } from 'src/components/Modal';\nimport Overlay, { exitAnimationDuration } from 'src/primitives/Overlay';\nimport { colors } from 'src/styles';\nimport { type ReactRefType } from 'src/utils/flow';\n\nexport { exitAnimationDuration };\n\nconst isScrollingDown = (startY, curY) => curY < startY;\nconst isScrollingUp = (startY, curY) => !isScrollingDown(startY, curY);\n\nconst MODAL_MAX_WIDTH = 600;\nconst MODAL_BORDER_RADIUS = 16;\n\nconst boxEnterKeyframes = keyframes`\n  0% {\n    opacity: 0;\n    transform: scale(1);\n  }\n\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n`;\n\nconst boxExitKeyframes = keyframes`\n  0% {\n    opacity: 1;\n    transform: scale(1);\n  }\n\n  100% {\n    opacity: 0;\n    transform: scale(0.8);\n  }\n`;\n\nconst styles = {\n  box: {\n    // https://codepen.io/amonks/pen/GjjdoA\n    // to fix Safari it is also necessary to unset `will-change` rule\n    ':-webkit-full-screen-ancestor': {\n      animation: 'none',\n      animationFillMode: 'none',\n      willChange: 'unset',\n    },\n    backgroundColor: colors.white,\n    borderRadius: MODAL_BORDER_RADIUS,\n    boxShadow: '0 0 24px rgba(0, 0, 0, 0.18)',\n    margin: 'auto',\n    animationName: boxEnterKeyframes,\n    animationDuration: '300ms',\n    animationFillMode: 'forwards',\n    animationTimingFunction: 'ease-out',\n    padding: 40,\n    overflow: 'hidden',\n    // Promote to own compositor layer. Allows boxShadow to extend outside its\n    // parent clipping rect. Without this the boxShadow will appear clipped\n    // during the rubber-band scroll effect in iOS Safari.\n    willChange: 'transform',\n    WebkitTapHighlightColor: 'rgba(0,0,0,0)',\n  },\n  boxExit: {\n    animationName: boxExitKeyframes,\n    animationDuration: `${exitAnimationDuration}ms`,\n    animationFillMode: 'forwards',\n    animationTimingFunction: 'ease-out',\n  },\n  scrollingContainer: {\n    overflowY: 'auto',\n    padding: 32,\n    width: '100%',\n    height: '100%',\n    boxSizing: 'border-box',\n    WebkitOverflowScrolling: 'touch', // momentum scrolling for iOS Safari\n    display: 'flex',\n    alignItems: 'flex-start',\n    ':focus': {\n      outline: 'none',\n    },\n  },\n};\n\nclass Modal extends Component<Props, void> {\n  static defaultProps: DefaultProps;\n\n  handleCloseButtonClick: () => void;\n  handleOverlayClick: () => void;\n  handleKeyDown: (event: KeyboardEvent) => void;\n  handleTouchStartOnScrollingContainer: () => void;\n  handleTouchStart: (event: SyntheticTouchEvent<>) => void;\n  handleTouchMove: (event: SyntheticTouchEvent<>) => void;\n\n  startY: ?number;\n\n  componentDidMount() {\n    if (this.scrollingContainer.current != null) {\n      this.scrollingContainer.current.focus();\n    }\n  }\n\n  scrollingContainer: ReactRefType<HTMLDivElement> = createRef();\n\n  handleCloseButtonClick = () => {\n    this.props.onClose();\n  };\n\n  handleOverlayClick = () => {\n    if (this.props.closeOnOverlayTap) {\n      this.props.onClose();\n    }\n  };\n\n  handleKeyDown = (event: KeyboardEvent) => {\n    // Try to make sure the keydown events are not propagated to elements up on the tree when a modal is open, because we should treat the modal as an indipendent layer of the application and keydown events should not interact with the underlying content.\n    // This is achieved giving programmatically focus to the scrolling container in cDM\n    // If other elements steal focus this intent would fail, but it's the safest approach we could keep at the moment\n    event.stopPropagation();\n    if (event.keyCode === 27) {\n      // Esc\n      event.preventDefault();\n      this.props.onClose();\n    }\n  };\n\n  handleTouchStart = (event: SyntheticTouchEvent<>) => {\n    this.startY = event.touches[0].clientY;\n  };\n\n  handleTouchMove = (event: SyntheticTouchEvent<>) => {\n    if (this.scrollingContainer.current == null) return;\n\n    const curY = event.touches[0].clientY;\n\n    // Disable scroll propagation when container isn't scrollable\n    if (\n      this.scrollingContainer.current.scrollHeight ===\n      this.scrollingContainer.current.clientHeight\n    ) {\n      event.preventDefault();\n      return;\n    }\n\n    // Disable scroll propagation when we are scrolled to the top of the container\n    // and we are trying to scroll up further.\n    if (\n      this.scrollingContainer.current.scrollTop === 0 &&\n      isScrollingUp(this.startY, curY)\n    ) {\n      event.preventDefault();\n      return;\n    }\n\n    // FlowIssue — This second check is only required because Flow is\n    // pessimistic about side effects.\n    if (this.scrollingContainer.current == null) return;\n\n    // Disable scroll propagation when we are scrolled to the bottom of the container\n    // and we are trying to scroll down further.\n    if (\n      this.scrollingContainer.current.scrollTop +\n        this.scrollingContainer.current.clientHeight >=\n        this.scrollingContainer.current.scrollHeight &&\n      isScrollingDown(this.startY, curY)\n    ) {\n      event.preventDefault();\n      return;\n    }\n  };\n\n  scrollToTop = () => {\n    const scrollableElement = this.scrollingContainer.current;\n    if (scrollableElement != null) {\n      // $FlowIssue flow is unaware of the scrollTo method on elements\n      scrollableElement.scrollTo({ top: 0, behavior: 'smooth' });\n    }\n  };\n\n  render() {\n    return (\n      <Overlay animateClose={this.props.animateClose}>\n        <div\n          css={styles.scrollingContainer}\n          ref={this.scrollingContainer}\n          onClick={this.handleOverlayClick}\n          onTouchStart={this.handleTouchStart}\n          onTouchMove={this.handleTouchMove}\n          tabIndex=\"0\"\n          onKeyDown={this.handleKeyDown}\n        >\n          <div\n            id=\"modal\"\n            css={[\n              styles.box,\n              Boolean(this.props.animateClose) && styles.boxExit,\n              {\n                width: this.props.width || MODAL_MAX_WIDTH,\n                maxWidth: this.props.width || MODAL_MAX_WIDTH,\n              },\n            ]}\n            onClick={(event) => event.stopPropagation()}\n          >\n            {this.props.children}\n          </div>\n        </div>\n      </Overlay>\n    );\n  }\n}\n\nModal.defaultProps = {\n  closeOnOverlayTap: false,\n};\n\nexport default Modal;\n","// @flow\n/** @jsxImportSource @emotion/react */\nimport styled from '@emotion/styled';\nimport React from 'react';\n\nconst Root = styled.div<{}>({\n  display: 'flex',\n  flexDirection: 'column',\n});\n\nexport default function ModalContent({\n  children,\n  isCentered,\n}: {|\n  children: React$Node,\n  isCentered?: boolean,\n|}) {\n  return (\n    <Root css={isCentered ? { alignItems: 'center', textAlign: 'center' } : {}}>\n      {children}\n    </Root>\n  );\n}\n","// @flow\nimport styled from '@emotion/styled';\n\nconst Separator = styled.div<{ grow?: boolean, size: number }>((props) => ({\n  flexShrink: 0,\n  height: props.size,\n  width: props.size,\n  ...(props.grow ? { flexGrow: 1 } : {}),\n}));\n\nexport default Separator;\n","// @flow\n/** @jsxImportSource @emotion/react */\nimport React from 'react';\n\nimport Separator from 'src/primitives/Separator';\n\nexport function ModalFooter({\n  children,\n  isCentered = false,\n}: {|\n  children: React$Node,\n  isCentered?: boolean,\n|}) {\n  return (\n    <React.Fragment>\n      <Separator size={40} />\n      <div\n        css={{\n          display: 'flex',\n          justifyContent: isCentered ? 'center' : 'flex-start',\n\n          '> a, > button': {\n            minWidth: 164,\n          },\n        }}\n      >\n        {children}\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default ModalFooter;\n","// @flow\nimport React, { createRef, Component } from 'react';\nimport type { Node } from 'react';\n\nimport Portal from 'src/helpers/Portal';\nimport { type ReactRefType } from 'src/utils/flow';\n\nimport Modal, { exitAnimationDuration } from './Modal';\n\nexport type Props = {\n  isOpen: boolean,\n  title?: string,\n  onClose: Function,\n  animateClose?: boolean,\n  width?: number,\n  closeOnOverlayTap: boolean, // Close modal if user taps/clicks the overlay?\n  children: Node,\n  onExitAnimationEnd?: () => void,\n};\n\nexport type DefaultProps = {\n  closeOnOverlayTap: boolean,\n};\n\ntype State = {\n  animateClose: boolean,\n  isOpen: boolean,\n};\n\nclass ModalPortal extends Component<Props, State> {\n  static defaultProps: DefaultProps;\n\n  openModal: () => void;\n  closeModal: () => void;\n  reenablePageScroll: () => void;\n\n  state = {\n    isOpen: false,\n    animateClose: false,\n  };\n\n  componentDidMount() {\n    if (this.props.isOpen) {\n      this.openModal();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.isOpen && !prevProps.isOpen) this.openModal();\n    else if (!this.props.isOpen && prevProps.isOpen) this.closeModal();\n  }\n\n  modal: ReactRefType<Modal> = createRef();\n\n  scrollToTop = () => {\n    const modal = this.modal.current;\n    if (modal != null) {\n      modal.scrollToTop();\n    }\n  };\n\n  openModal = () => {\n    this.setState((state) => ({ ...state, isOpen: true }));\n  };\n\n  closeModal = () => {\n    this.setState((state) => ({ ...state, animateClose: true }));\n    window.setTimeout(() => {\n      this.setState((state) => ({\n        ...state,\n        animateClose: false,\n        isOpen: false,\n      }));\n\n      if (this.props.onExitAnimationEnd) this.props.onExitAnimationEnd();\n    }, exitAnimationDuration);\n  };\n\n  render() {\n    return (\n      <Portal isOpen={this.state.isOpen} hasScrollPrevention>\n        <Modal\n          {...this.props}\n          animateClose={this.state.animateClose}\n          ref={this.modal}\n        />\n      </Portal>\n    );\n  }\n}\nModalPortal.defaultProps = {\n  closeOnOverlayTap: true,\n};\n\nexport default ModalPortal;\nexport { default as ModalContent } from './ModalContent';\nexport { default as ModalFooter } from './ModalFooter';\n","// @flow\nimport styled from '@emotion/styled';\nimport React from 'react';\n\nimport { colors, tappable } from 'src/styles';\n\nconst ButtonStyle = styled.button<{}>({\n  alignItems: 'center',\n  backgroundColor: colors.dodgerBlue,\n  border: 'none',\n  borderRadius: 8,\n  color: colors.white,\n  display: 'flex',\n  flexShrink: 0,\n  fontSize: 16,\n  fontWeight: 600,\n  justifyContent: 'center',\n  margin: 0,\n  outline: 'none',\n  padding: 16,\n  ...tappable,\n  textDecoration: 'none',\n  webkitAppearance: 'none',\n  mozAppearance: 'none',\n});\n\ntype Props = {|\n  children: React$Node,\n  onClick: () => void,\n|};\n\nconst Button = ({ children, onClick }: Props) => {\n  return <ButtonStyle onClick={onClick}>{children}</ButtonStyle>;\n};\n\nexport default Button;\n","// @flow\nimport { takeEvery } from 'redux-saga/effects';\n\nimport * as types from 'src/reducers/constants';\nimport type { UserName } from 'src/reducers/types';\n\nconst handleNewMessage = function* handleNewMessage(params: {\n  socket: typeof WebSocket,\n  username: UserName,\n}): any {\n  yield takeEvery(types.ADD_MESSAGE, (action) => {\n    action.author = params.username;\n    // $FlowFixMe the flow-typed library doesn't know about the methods of sockets\n    params.socket.send(JSON.stringify(action));\n  });\n};\n\nexport default handleNewMessage;\n","// @flow\nimport styled from '@emotion/styled';\nimport React from 'react';\n\nimport Modal, { ModalContent, ModalFooter } from 'src/components/Modal';\nimport Button from 'src/primitives/Button';\nimport Separator from 'src/primitives/Separator';\nimport { colors } from 'src/styles';\nimport handleNewMessage from 'src/utils/sagas';\nimport { sagaMiddleware, setupSocket, store } from 'src/utils/sockets';\n\nconst Title = styled.div<{}>({\n  color: colors.cloudBurst,\n  fontSize: 32,\n  fontWeight: 600,\n});\n\nconst Subtitle = styled.div<{}>({\n  color: colors.cloudBurst,\n  fontSize: 20,\n});\n\nconst Input = styled.input<{}>({\n  width: '100%',\n  height: '100%',\n  outline: 'none',\n  padding: 12,\n  backgroundColor: colors.athensGray,\n  border: 'none',\n  borderRadius: 8,\n  textAlign: 'center',\n});\n\nconst ChooseName = () => {\n  const [isOpen, setIsOpen] = React.useState(true);\n  const [username, setUsername] = React.useState('');\n\n  const handleSubmit = () => {\n    if (username !== '') {\n      setIsOpen(false);\n      const socket = setupSocket(store.dispatch, username);\n      sagaMiddleware.run(handleNewMessage, { socket, username });\n    }\n  };\n\n  return (\n    // The only way to close this modal is to submit a name\n    <Modal isOpen={isOpen} onClose={() => {}} closeOnOverlayTap={false}>\n      <ModalContent isCentered>\n        <Title>Welcome!</Title>\n        <Separator size={24} />\n        <Subtitle>What&apos;s your name?</Subtitle>\n        <Separator size={20} />\n        <Input\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          placeholder=\"Enter your name here\"\n        />\n      </ModalContent>\n      <ModalFooter isCentered>\n        <Button onClick={handleSubmit}>Submit</Button>\n      </ModalFooter>\n    </Modal>\n  );\n};\n\nexport default ChooseName;\n","// @flow\n/** @jsxImportSource @emotion/react */\nimport styled from '@emotion/styled';\nimport React from 'react';\nimport { connect } from 'react-redux';\n\nimport Separator from 'src/primitives/Separator';\nimport type { ReducerState } from 'src/reducers/types';\nimport { colors } from 'src/styles';\n\nconst Root = styled.div<{}>({\n  borderBottom: `1px solid ${colors.grayChateau}`,\n  padding: 20,\n  height: '100%',\n  overflow: 'auto',\n});\n\nconst MessageContainer = styled.div<{}>({\n  padding: 12,\n  borderRadius: 16,\n  width: 'fit-content',\n  maxWidth: 400,\n});\n\nconst User = styled.div<{}>({\n  fontSize: 16,\n  fontWeight: 600,\n});\n\nconst Message = styled.div<{}>({\n  fontSize: 16,\n});\n\nconst MessagesList = ({ messages }) => {\n  return (\n    <Root>\n      {messages.map((message, idx) => {\n        const isAuthor = message.author === 'Me';\n        return (\n          <React.Fragment key={message.id}>\n            {idx !== 0 && <Separator size={isAuthor ? 4 : 16} />}\n            <div css={{ display: 'flex' }}>\n              {isAuthor && <Separator grow size={16} />}\n              <MessageContainer\n                css={{\n                  backgroundColor: isAuthor\n                    ? colors.dodgerBlue\n                    : colors.athensGray,\n                  color: isAuthor ? colors.white : colors.cloudBurst,\n                }}\n              >\n                {!isAuthor && (\n                  <>\n                    <User>{message.author}</User>\n                    <Separator size={8} />\n                  </>\n                )}\n                <Message>{message.message}</Message>\n              </MessageContainer>\n            </div>\n          </React.Fragment>\n        );\n      })}\n    </Root>\n  );\n};\n\nexport const MessagesListContainer = connect(\n  (state: ReducerState) => ({\n    messages: state.messages,\n  }),\n  {},\n)(MessagesList);\n\nexport default MessagesListContainer;\n","// @flow\nimport styled from '@emotion/styled';\nimport React from 'react';\nimport { connect } from 'react-redux';\n\nimport Separator from 'src/primitives/Separator';\nimport type { ReducerState, Users } from 'src/reducers/types';\nimport { colors } from 'src/styles';\n\nconst Root = styled.div<{}>({\n  padding: 24,\n  height: '100%',\n  width: 400,\n  borderRight: `1px solid ${colors.grayChateau}`,\n  flexShrink: 0,\n});\n\nconst UsersList = styled.div<{}>({\n  maxHeight: '100%',\n  overflow: 'auto',\n});\n\nconst Title = styled.div<{}>({\n  color: colors.cloudBurst,\n  fontSize: 32,\n  fontWeight: 600,\n});\n\nconst User = styled.div<{}>({\n  color: colors.cloudBurst,\n  fontSize: 24,\n});\n\ntype Props = {|\n  users: Users,\n|};\n\nconst Sidebar = ({ users }: Props) => {\n  return (\n    <Root>\n      <Title>Users ({users.length})</Title>\n      <Separator size={32} />\n      <UsersList>\n        {users.map((user, idx) => (\n          <React.Fragment key={`${user.name}-${idx}`}>\n            {idx !== 0 && <Separator size={12} />}\n            <User>{user.name}</User>\n          </React.Fragment>\n        ))}\n      </UsersList>\n    </Root>\n  );\n};\n\nexport const SidebarContainer = connect(\n  (state: ReducerState) => ({\n    users: state.users,\n  }),\n  {},\n)(Sidebar);\n\nexport default SidebarContainer;\n","// @flow\nimport styled from '@emotion/styled';\nimport React from 'react';\n\nimport AddMessage from 'src/components/AddMessage';\nimport ChooseName from 'src/components/ChooseName';\nimport MessagesList from 'src/components/MessagesList';\nimport Sidebar from 'src/components/Sidebar';\n\nconst Root = styled.div<{}>({\n  height: '100%',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n});\n\nconst Messages = styled.div<{}>({\n  display: 'flex',\n  flexDirection: 'column',\n  width: '100%',\n  height: '100%',\n});\n\nfunction App() {\n  return (\n    <Root>\n      <ChooseName />\n      <Sidebar />\n      <Messages>\n        <MessagesList />\n        <AddMessage />\n      </Messages>\n    </Root>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { Provider } from 'react-redux';\nimport WebFont from 'webfontloader';\n\nimport { store } from 'src/utils/sockets';\n\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nWebFont.load({\n  google: {\n    families: ['Jost:400', 'Jost:500', 'Jost:600', 'sans-serif'],\n  },\n});\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}